<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        #chartmain>div span:nth-child(3)::before {
            content: "$";
        }
    </style>
</head>

<body>
    <!--div container for the chart. this in the <body></body>-->
    <div id="chartmain" style="width:900px; height: 900px;"></div>
    <!--<script type="text/javascript" src="js/jQuery.js"></script>-->
    <script type="text/javascript" src="js/echarts.js"></script>
    <script type="text/javascript">

        var upColor = '#ec0000';
        var upBorderColor = '#8A0000';
        var downColor = '#00da3c';
        var downBorderColor = '#008F28';
        // Each item: open，close，lowest，highest
        var data0 = splitData([
            ['10.10.2021\n 10:00', 101.1, 101.1, 100.5, 104.3],
            ['10.10.2021\n 10:10', 101.1, 101.2, 96.6, 104.9],
            ['10.10.2021\n 10:20', 101.2, 101.3, 98.1, 104.4],
            ['10.10.2021\n 10:30', 101.3, 103.0, 97.5, 104.8],
            ['10.10.2021\n 10:40', 103.0, 102.6, 102.1, 106.8],
            ['10.10.2021\n 10:50', 102.6, 104.3, 98.6, 107.2],
            ['10.10.2021\n 11:00', 104.3, 105.6, 99.4, 106.5],
            ['10.10.2021\n 11:10', 105.6, 106.4, 103.1, 107.9],
            ['10.10.2021\n 11:20', 106.4, 105.9, 104.3, 108.1],
            ['10.10.2021\n 11:30', 105.9, 107.6, 105.4, 108.2],
            ['10.10.2021\n 11:40', 107.6, 108.5, 102.7, 113.1],
            ['10.10.2021\n 11:50', 108.5, 110.0, 107.2, 113.5],
            ['10.10.2021\n 12:00', 110.0, 111.7, 106.1, 114.0],
            ['10.10.2021\n 12:10', 111.7, 118.8, 110.5, 123.4],
            ['10.10.2021\n 12:20', 118.8, 119.1, 117.4, 123.9],
            ['10.10.2021\n 12:30', 119.1, 120.6, 115.8, 122.5],
            ['10.10.2021\n 12:40', 120.6, 120.0, 119.4, 125.4],
            ['10.10.2021\n 12:50', 120.0, 120.5, 117.1, 120.7],
            ['10.10.2021\n 13:00', 120.5, 122.0, 119.6, 122.2],
            ['10.10.2021\n 13:10', 122.0, 122.5, 117.4, 123.8],
            ['10.10.2021\n 13:20', 122.5, 122.7, 122.1, 127.2],
            ['10.10.2021\n 13:30', 122.7, 123.9, 118.4, 127.1],
            ['10.10.2021\n 13:40', 123.9, 124.5, 119.6, 127.7],
            ['10.10.2021\n 13:50', 124.5, 126.0, 122.0, 130.6],
            ['10.10.2021\n 14:00', 126.0, 126.3, 122.8, 130.6],
            ['10.10.2021\n 14:10', 126.3, 126.9, 123.0, 129.4],
            ['10.10.2021\n 14:20', 126.9, 125.9, 123.8, 131.3],
            ['10.10.2021\n 14:30', 125.9, 125.7, 124.4, 129.4],
            ['10.10.2021\n 14:40', 125.7, 126.1, 121.6, 126.5],
            ['10.10.2021\n 14:50', 126.1, 126.5, 121.9, 128.7],
            ['10.10.2021\n 15:00', 126.5, 126.7, 123.9, 130.3],
            ['10.10.2021\n 15:10', 126.7, 127.7, 124.8, 128.6],
            ['10.10.2021\n 15:20', 127.7, 129.2, 123.1, 129.5],
            ['10.10.2021\n 15:30', 129.2, 128.4, 126.2, 130.0],
            ['10.10.2021\n 15:40', 128.4, 129.6, 125.9, 131.5],
            ['10.10.2021\n 15:50', 129.6, 131.1, 125.4, 131.4],
            ['10.10.2021\n 16:00', 131.1, 131.3, 128.0, 133.9],
            ['10.10.2021\n 16:10', 131.3, 131.4, 126.8, 132.4],
            ['10.10.2021\n 16:20', 131.4, 132.3, 129.3, 136.7],
            ['10.10.2021\n 16:30', 132.3, 132.5, 131.3, 136.2],
            ['10.10.2021\n 16:40', 132.5, 112.7, 111.6, 135.4],
            ['10.10.2021\n 16:50', 112.7, 112.7, 112.1, 113.0],
            ['10.10.2021\n 17:00', 112.7, 111.9, 107.0, 116.9],
            ['10.10.2021\n 17:10', 111.9, 111.9, 108.0, 114.8],
            ['10.10.2021\n 17:20', 111.9, 112.7, 110.9, 116.3],
            ['10.10.2021\n 17:30', 112.7, 113.2, 109.2, 114.8],
            ['10.10.2021\n 17:40', 113.2, 114.7, 112.7, 119.4],
            ['10.10.2021\n 17:50', 114.7, 116.4, 114.4, 117.9],
            ['10.10.2021\n 18:00', 116.4, 117.9, 114.6, 120.3],
            ['10.10.2021\n 18:10', 117.9, 118.8, 116.6, 119.5],
            ['10.10.2021\n 18:20', 118.8, 119.0, 117.6, 123.1],
            ['10.10.2021\n 18:30', 119.0, 118.3, 117.8, 121.3],
            ['10.10.2021\n 18:40', 118.3, 116.7, 113.0, 118.4],
            ['10.10.2021\n 18:50', 116.7, 118.5, 112.7, 123.0],
            ['10.10.2021\n 19:00', 118.5, 117.9, 114.5, 121.1],
            ['10.10.2021\n 19:10', 117.9, 118.3, 114.8, 122.2],
            ['10.10.2021\n 19:20', 118.3, 117.0, 113.8, 119.5],
            ['10.10.2021\n 19:30', 117.0, 116.2, 111.7, 120.7],
            ['10.10.2021\n 19:40', 116.2, 118.1, 111.4, 118.3],
            ['10.10.2021\n 19:50', 118.1, 119.4, 113.9, 120, 2],
            ['10.10.2021\n 20:00', 119.4, 119.1, 118.1, 121.1],
            ['10.10.2021\n 20:10', 119.1, 120.6, 117.1, 122.1],
            ['10.10.2021\n 20:20', 120.6, 120.8, 118.4, 124.8],
            ['10.10.2021\n 20:30', 120.8, 115.3, 114.1, 121.3],
            ['10.10.2021\n 20:40', 115.3, 116.0, 114.4, 120.7],
            ['10.10.2021\n 20:50', 116.0, 116.8, 114.4, 120.2]
        ]);
        function splitData(rawData) {
            var categoryData = [];
            var values = [];
            for (var i = 0; i < rawData.length; i++) {
                categoryData.push(rawData[i].splice(0, 1)[0]);
                values.push(rawData[i]);
            }
            console.log(values);
            return {
                categoryData: categoryData,
                values: values
            };
        }
        function calculateData(index) {
            var result = [];
            for (var i = 0, len = data0.values.length; i < len; i++) {
                result.push(data0.values[i][index]);
            }
            return result;
        }
        option = {
            tooltip: {
                trigger: 'axis',
                axisPointer: {
                    type: 'cross'
                }
            },
            legend: {
                top: 0,
                left: 'right',
                data: ["current price", "cap", "my max bid", "lead"]
            },
            datasets: [{
                datalabels: {
                    left: 'right'
                }
            }],
            grid: [
                {
                    left: '10%',
                    right: '8%',
                    height: '47%'
                },
                {
                    left: '10%',
                    right: '8%',
                    top: '60%',
                    height: '18%'
                }
            ],
            xAxis: [
                {
                    type: 'category',
                    data: data0.categoryData,
                    scale: true,
                    boundaryGap: false,
                    axisLine: { onZero: false },
                    splitLine: { show: false },
                    min: 'dataMin',
                    max: 'dataMax'
                },
                {
                    type: 'category',
                    data: data0.categoryData,
                    gridIndex: 1,
                    scale: true,
                    boundaryGap: false,
                    axisLine: { onZero: false },
                    splitLine: { show: false },
                    min: 'dataMin',
                    max: 'dataMax'
                }
            ],
            yAxis: [
                {
                    scale: true,
                    splitArea: {
                        show: true
                    }
                },
                {
                    scale: true,
                    gridIndex: 1,
                    splitArea: {
                        show: true
                    }
                }
            ],
            dataZoom: [
                {
                    type: 'inside',
                    xAxisIndex: [0, 1],
                    start: 1,
                    end: 100
                },
                {
                    show: true,
                    xAxisIndex: [0, 1],
                    type: 'slider',
                    top: '85%',
                    start: 1,
                    end: 100
                }
            ],
            series: [
                {
                    name: 'current price',
                    type: 'candlestick',
                    data: data0.values,
                    itemStyle: {
                        color: upColor,
                        color0: downColor,
                        borderColor: upBorderColor,
                        borderColor0: downBorderColor
                    }
                },
                {
                    name: 'my max bid',
                    data: [100.0, 100.0, 100.0, 104.0, 104.0, 104.0, 104.0, 110.0, 110.0, 110.0, 110.0, 110.0, 110.0, 110.0, 110.0,
                        110.0, 110.0, 110.0, 110.0, 115.0, 115.0, 115.0, 115.0, 115.0, 115.0, 115.0, 115.0, 115.0, 115.0, 115.0,
                        115.0, 115.0, 115.0, 115.0, 115.0, 115.0, 115.0, 115.0, 115.0, 115.0, 115.0, 115.0, 115.0, 115.0,
                        115.0, 115.0, 115.0, 115.0, 115.0, 115.0, 115.0, 115.0, 115.0, 115.0, 115.0, 110.0, 110.0,
                        110.0, 110.0, 102.0, 102.0, 102.0, 102.0, 102.0, 102.0, 102.0
                    ],
                    type: 'line'
                },
                {
                    name: 'lead',
                    symbolSize: 20,
                    data: [
                        ["10.10.2021\n 10:20", 96, 9],
                        ["10.10.2021\n 10:30", 97, 9],
                        ["10.10.2021\n 10:40", 102, 5],
                        ["10.10.2021\n 11:00", 100, 0],
                        ["10.10.2021\n 11:40", 103, 2],
                        ["10.10.2021\n 12:00", 106, 7],
                        ["10.10.2021\n 16:40", 111, 8],
                        ["10.10.2021\n 17:00", 107, 8],
                        ["10.10.2021\n 18:40", 113, 2],
                        ["10.10.2021\n 19:00", 114, 8]
                    ],
                    type: 'scatter'
                },
                {
                    name: 'cap',
                    type: 'bar',
                    xAxisIndex: 1,
                    yAxisIndex: 1,
                    data: [75000.0, 72220.9, 71682.9, 70395.0, 68242.7, 68091.1, 67565.6, 65860.4,
                        65816.3, 65750.2, 63119.4, 62093.6, 61257.0, 60030.8, 59822.1, 59425.1, 67425.1, 66191.7,
                        64099.3, 63305.4, 61491.8, 61372.2, 60990.0, 61690.0, 60082.1, 58216.6, 57036.4, 56257.8,
                        53680.9, 51527.2, 49410.9, 48224.8, 47059.6, 45496.0, 45432.5, 44664.9, 42152.1, 39831.8,
                        40131.8, 37251.0, 35349.7, 33280.6, 48280.6, 45521.7, 44795.8, 43150.0, 41181.3, 38387.1,
                        36309.3, 34912.4, 34631.5, 36131.5, 35696.8, 35483.9, 34968.5, 34394.0, 34356.3,
                        33726.1, 31795.0, 30328.6, 29156.5, 27741.6, 24910.8, 24120.9, 21483.4, 20122.6
                    ]
                }
            ]
        };
        var myChart = echarts.init(document.getElementById('chartmain'));
        myChart.setOption(option);
        /*
        var str = 'leads';
        $("#chartmain").on("mousemove", function () {
            var elements = $("#chartmain>div span").filter(function () {
                return $(this).text() === str;
            }).text("cost");
        });*/
    </script>

</body>

</html>